(window.webpackJsonp=window.webpackJsonp||[]).push([["signature"],{"2f80":function(t,s,a){"use strict";a.r(s),a("8e6e"),a("ac6a"),a("456d");var e=a("bd86"),i=a("2f62");function r(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);s&&(e=e.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),a.push.apply(a,e)}return a}var n={data:function(){return{week_list:["日","一","二","三","四","五","六"],currentDay:(new Date).getDate(),startDay:0,endDay:6,openCollapse:!1,dialogVisible:!1,signatureImage:"".concat(window.CDN_ASSETS,"/static/img/SignatureImage.png"),signatureTitle:"".concat(window.CDN_ASSETS,"/static/img/SignatureTitle.png"),signaturebBonus:"".concat(window.CDN_ASSETS,"/static/img/SignatureBonus.png"),signaturebBonusSucess:"".concat(window.CDN_ASSETS,"/static/img/SignatureBonusSuccess.png"),signaturebBonusError:"".concat(window.CDN_ASSETS,"/static/img/SignatureBonusError.png")}},computed:function(t){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?r(Object(a),!0).forEach((function(s){Object(e.a)(t,s,a[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))}))}return t}({},Object(i.b)("mission",["activeTask","memberAllTasks","TaskSignatureTable"])),methods:{dayFormat:function(t){return this.$dayjs(t).format("MM-DD")},getWeekDay:function(t){return this.$dayjs(t).day()},pervWeek:function(){this.startDay-=7,this.endDay-=7},nextWeek:function(){this.startDay+=7,this.endDay+=7},submitHandleTaskSignature:function(){var t=this;this.$store.dispatch("mission/submitTaskSignature",{}).then((function(s){t.$store.dispatch("wallet/getMemberWallet"),t.$store.dispatch("mission/getTaskSignatureTable")}))},submitHandleFreeSignature:function(t){var s=this,a={date:t};this.$store.dispatch("mission/submitFreeSignature",a).then((function(t){s.$store.dispatch("wallet/getMemberWallet"),s.$store.dispatch("mission/getTaskSignatureTable")}))}},mounted:function(){this.startDay=7*Math.floor((this.currentDay-1)/7),this.endDay=this.startDay+6,this.$store.dispatch("mission/getTaskSignatureTable")}},c=(a("e4b4"),a("2877")),u=Object(c.a)(n,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"signatureDiv"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"col-12 my-3"},[a("div",{staticClass:"DWBreadcrumb"},[a("router-link",{attrs:{to:"/"}},[t._v("首页")]),a("span",{staticClass:"mx-2"},[t._v("/")]),a("span",[t._v("每日签到")])],1)]),a("div",{staticClass:"w-100 text-center"},[a("img",{staticClass:"signatureTitle",attrs:{src:t.signatureTitle}}),t.TaskSignatureTable.status?a("p",{staticClass:"text-white"},[t._v("本月免费补签剩余："+t._s(t.TaskSignatureTable.status.freeCount-t.TaskSignatureTable.status.usedCount)+" 次")]):t._e(),t._m(0)]),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-5 col-xl-5 text-center signatureImage"},[a("img",{attrs:{src:t.signatureImage}})]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-7 col-xl-7"},[a("div",{staticClass:"row px-5 mb-5"},[t._l(t.TaskSignatureTable.table,(function(s,e,i){return i>=t.startDay&&i<=t.endDay?a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-4 col-xl-3"},[a("div",{staticClass:"signatureDay",class:{signatureDayActive:i+1==t.currentDay}},[a("p",{staticClass:"text-center my-2"},[t._v(t._s(t.dayFormat(e))+" ("+t._s(t.week_list[t.getWeekDay(e)])+")")]),a("p",{staticClass:"text-center"},[a("small",[t._v(t._s(t._f("commaFormatDefault")(t.TaskSignatureTable.status.point))+" 点积分")])]),a("p",{staticClass:"text-center"},[a("img",{attrs:{src:t.signaturebBonus}})]),i+1<t.currentDay?a("div",{staticClass:"signatureStatusDisabled"},[a("div",{staticClass:"text-center mt-5"},[0==s&&i+1<t.currentDay?a("img",{staticClass:"mt-5",attrs:{src:t.signaturebBonusError}}):t._e()]),a("div",{staticClass:"text-center signatureStatusbottom"},[0==s&&i+1<t.currentDay&&0<t.TaskSignatureTable.status.freeCount?a("el-button",{staticClass:"signatureBtn w-100",attrs:{type:"primary"},on:{click:function(s){return t.submitHandleFreeSignature(e)}}},[t._v("补签")]):t._e()],1)]):t._e(),1==s&&i+1<t.currentDay?a("div",{staticClass:"signatureStatus"},[a("div",{staticClass:"text-center mt-5"},[a("img",{staticClass:"mt-5",attrs:{src:t.signaturebBonusSucess}})])]):t._e(),0==s&&i+1==t.currentDay?a("div",{staticClass:"signatureStatus"},[a("div",{staticClass:"text-center signatureStatusbottom"},[0==s&&i+1==t.currentDay?a("el-button",{staticClass:"signatureBtn w-100",attrs:{type:"primary"},on:{click:t.submitHandleTaskSignature}},[t._v("领取")]):t._e()],1)]):t._e(),1==s&&i+1==t.currentDay?a("div",{staticClass:"signatureStatusDisabled"},[a("div",{staticClass:"text-center mt-5"},[a("img",{staticClass:"mt-5",attrs:{src:t.signaturebBonusSucess}})])]):t._e()])]):t._e()})),a("div",{staticClass:"col-6 col-sm-6 col-md-4 col-lg-4 col-xl-3"},[a("div",{staticClass:"signatureDay text-center"},[a("p",{staticClass:"my-5"},[a("el-button",{staticClass:"signatureBtn",attrs:{disabled:t.startDay<1,type:"primary"},on:{click:t.pervWeek}},[t._v("上一周")])],1),a("p",{staticClass:"my-5"},[a("el-button",{staticClass:"signatureBtn",attrs:{disabled:31<=t.endDay,type:"primary"},on:{click:t.nextWeek}},[t._v("下一周")])],1)])])],2)])])])])])}),[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",{staticClass:"text-white"},[a("small",[t._v("免费补签次数隔月将重新计算，不可跨月补签。")])])}],!1,null,"21ca17fc",null);s.default=u.exports},e0fb:function(t,s,a){},e4b4:function(t,s,a){"use strict";var e=a("e0fb");a.n(e).a}}]);
//# sourceMappingURL=signature.12f3a4cc.js.map