(window.webpackJsonp=window.webpackJsonp||[]).push([["betgame.vue"],{"0768":function(t,e,a){},"0c03":function(t,e,a){"use strict";var s=a("684f");a.n(s).a},"3e92":function(t,e,a){"use strict";var s={data:function(){return{CDN_ASSETS:window.CDN_ASSETS}}},i=(a("0c03"),a("2877")),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"betGameWarpBanner d-flex justify-content-center mb-3"},[a("div",{staticClass:"betGameBanner d-flex flex-row align-content-center"},[a("div",{staticClass:"betGameBannerImg_1"},[a("img",{attrs:{src:t.CDN_ASSETS+"/static/img/bg-circle-left@3x.png"}})]),a("div",{staticClass:"betGameBannerImg_2"},[a("img",{attrs:{src:t.CDN_ASSETS+"/static/img/bg-circle-right@3x.png"}})]),a("div",{staticClass:"betGameBannerImg_3"},[a("img",{attrs:{src:t.CDN_ASSETS+"/static/img/pic-bet-odds@3x.png"}})]),t._m(0)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"betGameBannerList d-flex flex-row mx-3 justify-content-around"},[a("div",{staticClass:"d-none d-sm-block"},[a("span",{staticClass:"text-center mr-3"},[t._v("游戏类型 : 猜输赢和  ")]),a("span",[t._v("游戏猜赢 : 1 倍（不含本金） 游戏猜输 : 输本金 ")])])])}],!1,null,"7ebf46b4",null);e.a=n.exports},"684f":function(t,e,a){},"7df3":function(t,e,a){"use strict";a("2f62");var s={props:["item"],data:function(){return{currentPath:"",betGameMenuArray:[{icon:"fas fa-fist-raised",name:"竞猜盘口",path:"/bet"},{icon:"fas fa-receipt",name:"投注纪录",path:"/betlog"},{icon:"fas fa-exclamation-circle",name:"竞猜规则",path:"/betrule"}]}},methods:{changeCurrentPath:function(t,e){this.$matomo_bet_category(e),this.$router.push({path:t}).catch((function(t){}))}},mounted:function(){this.currentPath=this.$route.path}},i=(a("a58b"),a("2877")),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 text-center"},t._l(t.betGameMenuArray,(function(e,s){return a("div",{staticClass:"menuBtn mx-3",on:{click:function(a){return t.changeCurrentPath(e.path,e.name)}}},[a("div",{staticClass:"menuBtnRect",class:{active:t.currentPath===e.path}},[a("div",{staticClass:"i fas",class:e.icon})]),a("p",{staticClass:"text-white"},[t._v(t._s(e.name))])])})),0)}),[],!1,null,"651b310e",null);e.a=n.exports},"952f":function(t,e,a){"use strict";var s=a("0768");a.n(s).a},"9c59":function(t,e,a){"use strict";a.r(e),a("8e6e"),a("ac6a"),a("456d");var s=a("bd86"),i=a("7df3"),n=a("3e92"),c=a("c0f7"),o=a("2f62");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}var r=0,m=0,u={components:{bl_betMenuBtn:i.a,bl_betGameBanner:n.a,bl_betGameItem:c.a},data:function(){return{img1:"".concat(window.CDN_ASSETS,"/static/img/dw/pic-vs@3x.png"),dataLoaded:!1,betForm:{game_id:"",team_id:"",point:""},betFormRules:{point:[{validator:function(t,e,a){e<r|m<e?a(new Error("输入限额 ".concat(r,"～").concat(m," 的投注金额"))):a()},trigger:["blur","change"]},{required:!0,message:"请输投注金额",trigger:["blur","change"]}],team_id:[{required:!0,message:"请选择队伍",trigger:["blur","change"]}]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(o.b)("bet",["singleGameData"]),{},Object(o.b)("wallet",["memberWallet"])),methods:{chosseTeam:function(t){this.betForm.team_id=t},submitForm:function(t){var e=this,a=this;this.$refs[t].validate((function(t){e.$store.dispatch("bet/submitTaskGameBet",e.betForm).then((function(t){a.$message({message:"投注成功",type:"success"}),a.$router.push({path:"/betlog"}).catch((function(t){}))}))}))}},mounted:function(){var t=this,e=this,a={id:this.$route.query.id};this.$store.dispatch("bet/getSingleBetGameList",a).then((function(a){e.dataLoaded=!0,e.betForm.game_id=a.data.data[0].id,r=t.singleGameData[0].min,m=t.singleGameData[0].max}))}},d=(a("a9ca"),a("2877")),v=Object(d.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("el-form",{ref:"betFormREF",attrs:{model:t.betForm,rules:t.betFormRules},nativeOn:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"container betGameWarp mb-5"},[a("div",{staticClass:"row no-gutters my-3"},[a("div",{staticClass:"col-12 my-3"},[a("div",{staticClass:"DWBreadcrumb"},[a("router-link",{attrs:{to:"/"}},[t._v("首页")]),a("span",{staticClass:"mx-2"},[t._v("/")]),a("span",[t._v("赛事投注")])],1)]),a("bl_betMenuBtn")],1),a("div",{staticClass:"row no-gutters my-3"},[a("bl_betGameBanner")],1),a("div",{staticClass:"betGameRect py-3"},[t.dataLoaded?a("div",{staticClass:"row no-gutters my-3"},[a("div",{staticClass:"col-12 mt-4"},[a("p",{staticClass:"text-white text-center"},[t._v(t._s(t.singleGameData[0].date))]),a("p",{staticClass:"text-white text-center"},[t._v(t._s(t.singleGameData[0].name))])]),a("div",{staticClass:"col-12 mt-3"},[a("div",{staticClass:"betGameTeams text-center"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"homeTeam col-5"},[a("p",{staticClass:"text-center my-3"},[a("span",{staticClass:"homeIcon"},[t._v("主")])]),a("p",{staticClass:"text-center my-3"},[a("span",[t._v(t._s(t.singleGameData[0].home))]),1===t.singleGameData[0].win.value?a("span",{staticClass:"mx-3"},[t._v(t._s(t.singleGameData[0].win.display))]):t._e(),3===t.singleGameData[0].win.value?a("span",{staticClass:"mx-3"},[t._v(t._s(t.singleGameData[0].win.display))]):t._e()])]),a("div",{staticClass:"col-2"},[a("p",{staticClass:"text-center"},[a("img",{staticClass:"vsIcon",attrs:{src:t.img1}})])]),a("div",{staticClass:"guestTeam col-5 text-center"},[a("p",{staticClass:"text-center my-3"},[a("span",{staticClass:"guestIcon"},[t._v("客")])]),a("p",{staticClass:"text-center my-3"},[a("span",[t._v(t._s(t.singleGameData[0].guest))]),2===t.singleGameData[0].win.value?a("span",{staticClass:"mx-3"},[t._v(t._s(t.singleGameData[0].win.display))]):t._e(),3===t.singleGameData[0].win.value?a("span",{staticClass:"mx-3"},[t._v(t._s(t.singleGameData[0].win.display))]):t._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"text-center my-3 px-5"},[a("el-form-item",{attrs:{prop:"team_id"}},[a("div",{staticClass:"row"},t._l(t.singleGameData[0].betTeam,(function(e,s){return a("div",{staticClass:"betBtn col mx-2",class:{betBtnActive:t.betForm.team_id===e.value},on:{click:function(a){return t.chosseTeam(e.value)}}},[t._v(t._s(e.display))])})),0)])],1)])])])])]):t._e()]),a("div",{staticClass:"betGameRect_bet py-3"},[t.dataLoaded?a("div",{staticClass:"row no-gutters my-3"},[a("div",{staticClass:"col-12"},[a("p",{staticClass:"text-center my-3"},[t._v("梦基金余额: "+t._s(t._f("commaFormatDefault")(t.memberWallet.point)))]),a("p",{staticClass:"text-center my-3 px-5"},[a("el-form-item",{attrs:{prop:"point"}},[a("el-input",{attrs:{type:"number",min:t.singleGameData[0].min,max:t.singleGameData[0].max,placeholder:"输入限额 "+t.singleGameData[0].min+"～"+t.singleGameData[0].max+" 的投注金额"},model:{value:t.betForm.point,callback:function(e){t.$set(t.betForm,"point",e)},expression:"betForm.point"}})],1)],1),a("p",{staticClass:"text-center"},[a("el-button",{staticClass:"w-50 betBtnPrimary",attrs:{disabled:""===t.betForm.team_id||t.betForm.point<t.singleGameData[0].min||t.betForm.point>t.singleGameData[0].max,round:""},on:{click:function(e){return t.submitForm("betFormREF")}}},[t._v("下好离手")])],1),a("p",{staticClass:"text-center my-3"},[t._v("※ 请注意：确认投注将无法更改 ※")])])]):t._e()])])])],1)}),[],!1,null,"29f7beba",null);e.default=v.exports},a58b:function(t,e,a){"use strict";var s=a("b8ec");a.n(s).a},a9ca:function(t,e,a){"use strict";var s=a("e31d");a.n(s).a},b8ec:function(t,e,a){},c0f7:function(t,e,a){"use strict";a("2f62");var s={props:["item"],data:function(){return{bonusCountDown:"",bonustOnTimeTimer:null,iconWin:"".concat(window.CDN_ASSETS,"/static/img/icon-win.png"),iconTie:"".concat(window.CDN_ASSETS,"/static/img/icon-tie.png")}},methods:{getDate:function(t){return this.$dayjs(t).format("YYYY-MM-DD")},getTime:function(t){return this.$dayjs(t).format("HH:mm")},checkIsToday:function(t){var e=this.$dayjs().format("YYYY-MM-DD"),a=this.$dayjs(t).format("YYYY-MM-DD");return this.$dayjs(a).isBefore(e)},bonustOnTime:function(t){var e=this,a=this.$dayjs().format("YYYY-MM-DD HH:mm:ss"),s=(this.$dayjs(t).subtract(1,"hour").format("YYYY-MM-DD HH:mm:ss"),this.$dayjs(t).subtract(1,"hour").diff(this.$dayjs(a))),i=parseInt(Math.floor(s/1e3/60/60),10),n=parseInt(s%36e5/6e4),c=s%6e4/1e3;this.bonusCountDown=(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)+":"+(c<10?"0"+c:c),s<=0?(clearTimeout(e.bonustOnTimeTimer),this.bonusCountDown="00:00:00",this.$store.dispatch("bet/getBetGameList")):this.bonustOnTimeTimer=setTimeout((function(){e.bonustOnTime(t)}),1e3)},gotBetgame:function(t){4===t.status.value&&this.$router.push({path:"/betgame",query:{id:t.id}})},gotBetlog:function(){this.$router.push({path:"/betlog"})}},beforeDestroy:function(){clearTimeout(this.bonustOnTimeTimer)},mounted:function(){4==this.item.status.value&&this.bonustOnTime(this.item.date)}},i=(a("952f"),a("2877")),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"betGameRect w-100 my-2",class:{betGameOver:1==t.item.status.value,betGameOnTime:2==t.item.status.value}},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-3 col-xl-3 p-2"},[a("div",{staticClass:"ribbon"},[a("i",{staticClass:"ribbonBackside"}),a("p",[t._v(t._s(t.item.status.display))]),4==t.item.status.value?a("p",[t._v(" "+t._s(t.bonusCountDown))]):t._e()])]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-3 col-xl-3 p-2"},[a("div",{staticClass:"betGameInfo mt-1 mt-lg-3 text-center text-sm-center text-md-center text-lg-left text-xl-left"},[a("p",{staticClass:"betGameDate"},[t._v(t._s(t.getDate(t.item.date)))]),a("p",{staticClass:"betGameTime"},[t._v(t._s(t.getTime(t.item.date))+" (北京时间)")]),a("p",{staticClass:"betGameName"},[t._v(t._s(t.item.name))])])]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-3 col-xl-3 p-2"},[a("div",{staticClass:"betGameTeams mt-1 mt-lg-3 text-center text-sm-center text-md-center text-lg-left text-xl-left"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"homeTeam col-6 col-sm-6 col-md-6 col-lg-12 col-xl-12 mb-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 p-0"},[a("div",{staticClass:"iconWin mr-2"},[a("img",{directives:[{name:"show",rawName:"v-show",value:1===t.item.win.value,expression:"item.win.value===1"}],attrs:{src:t.iconWin}}),a("img",{directives:[{name:"show",rawName:"v-show",value:2===t.item.win.value,expression:"item.win.value===2"}],attrs:{src:t.iconTie}})]),a("div",{staticClass:"homeIcon"},[t._v("主")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-7 col-xl-7 p-0 teamName"},[t._v(t._s(t.item.home))])])]),a("div",{staticClass:"guestTeam col-6 col-sm-6 col-md-6 col-lg-12 col-xl-12 mb-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4 p-0"},[a("div",{staticClass:"iconWin mr-2"},[a("img",{directives:[{name:"show",rawName:"v-show",value:3===t.item.win.value,expression:"item.win.value===3"}],attrs:{src:t.iconWin}}),a("img",{directives:[{name:"show",rawName:"v-show",value:2===t.item.win.value,expression:"item.win.value===2"}],attrs:{src:t.iconTie}})]),a("div",{staticClass:"guestIcon"},[t._v("客")])]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-7 col-xl-7 p-0 teamName"},[t._v(t._s(t.item.guest))])])])])])]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-3 col-xl-3 p-2"},[a("div",{staticClass:"betGameAction mt-1 mt-lg-3 w-100 text-center mb-3"},[3===t.item.betButton.value&&4===t.item.status.value?a("div",{staticClass:"choseTeamBtn w-75",on:{click:function(e){return t.gotBetgame(t.item)}}},[t._v(t._s(t.item.betButton.display))]):1===t.item.betButton.value?a("div",{staticClass:"choseTeamBtn w-75",on:{click:t.gotBetlog}},[t._v(t._s(t.item.betButton.display))]):a("div",{staticClass:"choseTeamBtnNoCursor w-75",on:{click:function(e){return t.gotBetgame(t.item)}}},[t._v(t._s(t.item.betButton.display))])])])])])}),[],!1,null,"540e9e99",null);e.a=n.exports},e31d:function(t,e,a){}}]);
//# sourceMappingURL=betgame.vue.e46371a5.js.map