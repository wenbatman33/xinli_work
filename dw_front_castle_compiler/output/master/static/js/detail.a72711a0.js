(window.webpackJsonp=window.webpackJsonp||[]).push([["detail"],{1e3:function(t,e,s){"use strict";s.r(e),s("8e6e"),s("ac6a"),s("456d");var o=s("bd86"),i=(s("7f7f"),s("2f62"));function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}var r={data:function(){return{categoryList:[{value:-1,dispaly:"全部"},{value:-2,dispaly:"可兑换"},{value:0,dispaly:"现金"},{value:1,dispaly:"电话卡"}],goodQuantity:1,page:1,per_page:10,category:-1,name:"",id:"",currentImg:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){Object(o.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(i.b)("shopping",["goodsDetail","goodsCartList"]),{},Object(i.b)("wallet",["memberWallet"])),methods:{countPercent:function(t){return(this.memberWallet.point/t).toFixed(2)==1/0?0:100<=100*(this.memberWallet.point/t).toFixed(2)?100:100*(this.memberWallet.point/t).toFixed(2)},categoryBtnClick:function(t){this.category=t,this.getGoodsListData()},getGoodsListData:function(){var t=this,e={page:this.page,per_page:this.per_page,id:this.id};this.$store.dispatch("shopping/getGoodsDetail",e).then((function(e){t.currentImg=e.data.data[0].img_path[0]}))},changCurrentImg:function(t){this.currentImg=t},addCart:function(t){var e=this,s={goods_id:t.id,quantity:this.goodQuantity,name:t.name,point:t.point,category:t.category.value,type:t.type.value,img_path:t.img_path[0]},o=!1;this.goodsCartList.map((function(t){t.goods_id===s.goods_id?(o=!0,e.$message({message:"您已加入购物车",type:"warning"})):e.$message({message:"已加入购物车",type:"success"})}));var i=this.goodsCartList;o||i.push(s),this.$store.commit("shopping/setGoodsCartList",i)},buyNow:function(t){var e={goods_id:t.id,quantity:this.goodQuantity,name:t.name,point:t.point,category:t.category.value,img_path:t.img_path[0]},s=!1;this.goodsCartList.map((function(t){t.goods_id===e.goods_id&&(s=!0)}));var o=this.goodsCartList;s||o.push(e),this.$store.commit("shopping/setGoodsCartList",o),this.$router.push({path:"/cart"})}},beforeDestroy:function(){this.$store.commit("shopping/setGoodsDetail",[])},mounted:function(){this.id=this.$route.query.id,this.category=this.$route.query.category,this.getGoodsListData(),this.$store.dispatch("shopping/checkGoodsCartList")}},n=(s("613f"),s("2877"));function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}var l={components:{bl_GoodDetail:Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goodDetail py-3"},t._l(t.goodsDetail,(function(e,o){return s("div",{staticClass:"row goodsDetailRow"},[s("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 my-3"},[s("div",{staticClass:"DWBreadcrumb"},[s("router-link",{attrs:{to:"/"}},[t._v("首页")]),s("span",{staticClass:"mx-2"},[t._v("/")]),s("span",[t._v(t._s(e.name))])],1)]),s("div",{staticClass:"col-12 col-sm-12 col-md-5 col-lg-5 col-xl-5"},[s("div",{staticClass:"gameImg w-100"},[s("div",{staticClass:"goodImg"},[s("div",{staticClass:"RWDDIV"},[s("div",{staticClass:"RWDImg"},[s("img",{attrs:{src:t.currentImg}})])])])]),s("div",{staticClass:"gameImgThumbnail d-flex flex-row flex-warp my-2"},t._l(e.img_path,(function(e,o){return s("div",{staticClass:"thumb mr-2",on:{click:function(s){return t.changCurrentImg(e)}}},[s("div",{staticClass:"RWDDIV"},[s("div",{staticClass:"RWDImg"},[s("img",{attrs:{src:e}})])])])})),0)]),s("div",{staticClass:"col-12 col-sm-12 col-md-7 col-lg-7 col-xl-7"},[s("div",{staticClass:"goodsTitle my-3"},[t._v(t._s(e.name))]),s("div",{staticClass:"goodsPoint my-3"},[t._v(" "+t._s(t._f("commaFormatDefault")(e.point))+" 点")]),s("div",{staticClass:"px-5"},[s("div",{staticClass:"progress my-3"},[s("div",{staticClass:"progress-bar",style:"width: "+t.countPercent(e.point)+"%",attrs:{role:"progressbar","aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"}})])]),s("div",{staticClass:"goodsContent my-3 text-center"},[t.memberWallet.point>=e.point?s("div",{staticClass:"goodsPoint my-3"},[t._v(" 恭喜您，可以兑换了 ！")]):s("div",{staticClass:"goodsPoint my-3"},[t._v(" 还差 "+t._s(e.point-t.memberWallet.point)+" 梦基金就可以兑换")]),s("p",{staticClass:"my-3"},[s("el-input-number",{staticClass:"w-75",attrs:{min:1},model:{value:t.goodQuantity,callback:function(e){t.goodQuantity=e},expression:"goodQuantity"}})],1),s("p",{staticClass:"my-3"},[s("el-button",{staticClass:"w-75",attrs:{type:"primary"},on:{click:function(s){return t.addCart(e)}}},[t._v("加入购物车 ")])],1),s("p",{staticClass:"my-3"},[s("el-button",{staticClass:"w-75",attrs:{type:"primary"},on:{click:function(s){return t.buyNow(e)}}},[t._v("立即兑换 ")])],1)])]),s("div",{staticClass:"goodsContentRow col-12"},[s("div",{staticClass:"goodsContentTitle"},[t._v("详细说明")]),s("div",{staticClass:"goodsContent",domProps:{innerHTML:t._s(e.content)}})])])})),0)}),[],!1,null,"799471f0",null).exports},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){Object(o.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(i.b)("shopping",["goodsList"]),{},Object(i.b)("wallet",["memberWallet"])),mounted:function(){this.$store.dispatch("index/API_IndexBanner",{banner_group_id:1,device:1,platform:3})}},d=Object(n.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"container"},[e("bl_GoodDetail")],1)])}),[],!1,null,"116da964",null);e.default=d.exports},"613f":function(t,e,s){"use strict";var o=s("812a");s.n(o).a},"812a":function(t,e,s){}}]);
//# sourceMappingURL=detail.a72711a0.js.map