<template lang="pug">
.container-fluid.p-0.gamesPage.d-flex.flex-grow-1
  .loadingDiv#loadingDiv(v-if='showLoading')
    .logoLoading
      img.logoImg(:src='loading_logo')
      svg.logoSvg(width='170px', height='146px', viewBox='0 0 168 142', version='1.1', xmlns='http://www.w3.org/2000/svg', xmlns:xlink='http://www.w3.org/1999/xlink')
        g#logo_1(stroke='none', stroke-width='1', fill='none', fill-rule='evenodd')
          g(id='logo-(1)', transform='translate(0.000000, -1.000000)', fill='#6B49AA', fill-rule='nonzero')
          path#Path(
            stroke='#6B49AA' stroke-width='1' stroke-miterlimit='3' 
            d='M166.5,71 C166.5,71 166.5,71 166.5,71 C163.8,56.5 156.1,44.2 145.8,34.3 C138.2,27 129.3,21.1 119.9,16.6 C119.1,16.2 118.2,15.8 117.4,15.4 C117.2,15.3 116.9,15.2 116.7,15.1 C108.2,11.4 99.1,8.8 90,7.8 C89,7.7 88,7.6 87.1,7.5 C80.6,7 74.1,7.4 67.7,8.7 C64.4,9.4 61.2,10.5 58,11.7 C57.8,11.8 57.5,11.9 57.3,12 C44.1,17.8 33,28.3 28.7,41.8 C28.3,43.1 27.9,44.5 27.6,45.8 C20.4,82.8 55,104.3 55,104.3 C55.1,104.4 55.1,104.4 55.2,104.5 C55.4,104.6 55.6,104.8 55.8,104.9 C56.1,105.1 56.5,105.4 56.8,105.6 C57.2,105.9 57.7,106.2 58.2,106.5 C58.8,106.9 59.3,107.2 59.9,107.5 C60.6,107.9 61.2,108.3 61.9,108.7 C62.7,109.1 63.5,109.6 64.2,110 C65.1,110.5 65.9,110.9 66.8,111.3 C67.8,111.8 68.7,112.2 69.7,112.7 C70.7,113.2 71.8,113.6 72.8,114 C73.9,114.5 75,114.9 76.2,115.3 C77.4,115.7 78.6,116.1 79.8,116.5 C81,116.9 82.3,117.2 83.6,117.6 C84.9,117.9 86.2,118.2 87.5,118.5 C88.9,118.8 90.2,119 91.6,119.2 C93,119.4 94.4,119.6 95.8,119.7 C97.2,119.8 98.7,119.9 100.1,119.9 C101.6,119.9 103.1,119.9 104.5,119.8 C106,119.7 107.5,119.6 109,119.3 C110.5,119.1 112.1,118.8 113.6,118.5 C115.2,118.1 116.7,117.7 118.2,117.2 C119.3,116.9 120.3,116.5 121.4,116.1 L121.4,116.1 C122.2,115.8 123,115.5 123.8,115.2 C124.7,114.8 125.5,114.5 126.3,114.1 C129.4,112.6 132.3,110.7 135,108.6 C135.1,108.6 135.1,108.5 135.2,108.4 C135.7,108 136.2,107.6 136.7,107.1 C137,106.8 137.4,106.5 137.7,106.2 C137.9,106 138.1,105.8 138.3,105.6 C138.7,105.2 139.1,104.8 139.5,104.4 C139.6,104.3 139.8,104.1 139.9,103.9 C140.3,103.5 140.7,103 141.1,102.6 C141.2,102.4 141.3,102.3 141.5,102.1 C141.9,101.6 142.3,101.2 142.6,100.7 C142.7,100.6 142.8,100.4 142.9,100.3 C143.3,99.8 143.6,99.3 144,98.8 C144.2,98.5 144.4,98.2 144.6,97.9 C144.9,97.5 145.2,97 145.4,96.6 C145.8,96 146.1,95.3 146.5,94.7 C146.6,94.6 146.6,94.4 146.7,94.3 C147,93.7 147.3,93 147.6,92.4 C147.6,92.3 147.7,92.2 147.7,92.1 C148,91.4 148.2,90.7 148.5,90 C148.5,90 148.5,90 148.5,89.9 C149.3,87.5 149.8,85 149.9,82.5 C150.1,78.3 149.2,73.9 147.3,70.2 C147.3,70.2 147.3,70.1 147.2,70.1 C146.9,69.5 146.5,68.9 146.1,68.3 C145.9,68.1 145.9,68 145.9,68 C146.4,93.6 114.9,100.5 115,100.5 C114.8,100.5 88.7,106.9 66.7,92.6 C43.1,76.3 46,54.4 46.1,54.3 C46.1,54.3 46.1,54.2 46.1,54.2 C46.7,48.9 48.8,43.5 52.6,38.4 C57.7,31.6 64,28.1 68.1,26.2 C69,25.8 69.7,25.5 70.4,25.2 C80.3,21.1 89.2,21.5 95.4,22.1 C96.4,22.2 97.3,22.3 98.2,22.4 C106.6,23.4 113.5,25.9 118.6,28.3 C121.1,29.4 123.2,30.5 124.8,31.4 C126.7,32.4 128.4,33.4 130,34.5 C132.9,36.4 136,38.7 139.1,41.8 C142.6,45.2 145.3,48.6 147.3,51.5 C150.6,56.7 153.1,62.3 154.4,68.2 C154.5,68.7 163.1,100.8 129.5,118.5 C129.4,118.6 97.3,138.8 51.5,108 C11.6,80.4 21.5,43.8 21.7,43.1 C24.8,30 33.7,18.2 46,12.7 C49.1,11.4 52.9,9.7 53,6.3 C53.1,4.1 51.2,2.1 49.1,1.4 C47,0.7 44.6,1 42.5,1.4 C25,4.9 10.4,18.5 4.2,35.1 C-14.7,85.3 37,122.4 37.3,122.6 C41.8,125.8 46,128.2 49.3,130 C58.8,135.1 66.6,137.7 69.3,138.5 C75.7,140.5 80.7,141.4 82.5,141.7 C89.4,142.9 94.7,143 96.8,143 C102.2,143.1 106.2,142.7 107.4,142.5 C115.6,141.6 121.6,139.7 123.1,139.2 C127.4,137.8 133.2,135.4 139.5,131.4 C139.8,131.2 174.8,111 166.5,71 Z')
          path#Path.circle2(
            stroke='#6B49AA' stroke-width='1' stroke-miterlimit='3'
            d='M127.3,87.5 C131.2,84.5 134.2,80.9 136.1,76.9 C138.2,72.6 139,67.8 138.5,62.9 C138.2,59.7 137.3,56.5 135.8,53.3 C134.6,50.7 133,48.2 131.2,46 L131.2,46 C128.2,42.2 124.4,39 120.1,36.3 C116.3,33.9 112.1,32 107.6,30.6 L107.6,30.6 C103.1,29.2 98.4,28.4 93.6,28.2 C89.5,28 85.4,28.4 81.3,29.2 L81.3,29.2 C81.3,29.2 81.3,29.2 81.2,29.2 C76.7,30.2 72.7,31.7 69.3,33.7 C64.8,36.3 61.2,39.7 58.6,43.6 L58.9,43.7 L58.9,43.7 L58.6,43.6 C55.8,48 54.3,53 54.3,58.2 C54.4,62.1 55.3,66.1 57.2,70.2 C58.5,72.9 60.1,75.4 62,77.7 L62,77.7 C65.3,81.7 69.4,85.1 74.1,87.9 C78.4,90.4 83.2,92.4 88.2,93.7 L88.2,93.7 C88.2,93.7 88.2,93.7 88.2,93.7 C88.2,93.7 88.2,93.7 88.2,93.7 C93.2,95 98.3,95.5 103.5,95.3 C106.3,95.2 109,94.8 111.8,94.3 C113.2,94 114.6,93.6 116,93.2 L116,93.1 L116,93.2 C120.3,91.8 124.1,89.9 127.3,87.5 Z')
  iframe(src="" id="iframe1")
</template>

<script>
import { mapState, mapMutations, mapGetters, mapActions } from 'vuex';

export default {
  name: 'bet',
  data() {
    return {
      showLoading: true,
      loading_logo: `${window.CDN_ASSETS}/static/img/loading_logo.png`,
    };
  },
  watch: {
    $route(to, from) {
      if (to.query.path !== undefined) {
        this.changeiFrameURL(to.query.path);
      }
    },
  },
  methods: {
    changeiFrameURL(URL) {
      document.getElementById('iframe1').src = URL;
      this.showLoading = false;
      // const elem = document.getElementById('loadingDiv');
      // elem.parentNode.removeChild(elem);
    },
  },
  mounted() {
    if (this.$route.query.path !== undefined) {
      this.changeiFrameURL(this.$route.query.path);
    }
  },
};
</script>
<style lang="scss" scoped>
.loadingDiv{
  position: relative;
  width: 100%;
  height: 80vh;
  display: flex;
  justify-content: center;
  align-items: center;

}
.gamesPage {
  width: 100%    !important;
  height: 100%   !important;
  min-width: 1024px;
  background-image: linear-gradient(to top, white, $garyBlue_lightest);
}
#iframe1{
  width: 100%    !important;
  height: 100%   !important;
  min-height: 600px;
  border: none !important;
}
</style>
